<html>
<head>
    <title>Real time events demo by javascript</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" >
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
</head> 
<style>
</style>
<script>
    $(document).ready(function(){
        var urlEndPoint ='http://localhost:8080/subscribe';
        var eventSource = new  EventSource(urlEndPoint);
        eventSource.addEventListener("latestNews",function(event){
            console.log(event.data)
        })
    })

    function addBlock(title,text){
        var a = document.createElement("article");

        var h = document.createElement("H3");
        var t = document.createTextNode(title);
        h.appendChild(t);
         var para = document.createElement("P");
         para.innerHTML = text;
         a.appendChild(h);
         a.appendChild(para);
         document.getElementById("pack").appendChild(a);
    }
</script>
<body>
<div  id ="pack">

</div>
</body>  
</html>
